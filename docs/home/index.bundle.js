zuix.setComponentCache([{componentId:"https://zuixjs.github.io/zkit/lib/1.2/components/context-menu",controller:(()=>{var t={exports:function(n){let i,t,e,o=!0;function s(){o&&!i.isPlaying()&&(o=!1,e.show(),i.playTransition({onEnd:function(t,e){n.trigger("open")}}),i.css("bottom",0).get().focus(),t.css("opacity",1))}function r(){o||i.isPlaying()||(o=!0,i.playTransition({onEnd:function(){e.hide(),n.trigger("close")}}),t.css("opacity",0),i.css("bottom",-i.position().rect.height+"px"))}n.create=function(){(i=n.field("menu")).css("bottom",-i.position().rect.height+"px"),e=n.view().hide(),t=e.find(".menu-overlay"),e.find(".container").on({click:r,keydown:function(t){27===(t=t||window.event).keyCode&&r()}}),zuix.load("https://zuixjs.github.io/zkit/lib/1.1/controllers/gesture-helper",{view:e,on:{"gesture:pan":function(t,e){i.hasClass("no-transition")||i.addClass("no-transition"),0<e.shiftY&&i.css("bottom",-e.shiftY+"px")},"gesture:release":function(t,e){i.removeClass("no-transition"),e.velocity<=0&&"up"===e.direction?i.css("bottom",0):"down"===e.direction&&r()}}}),n.expose("show",s),n.expose("hide",r)}}};return t.exports})(),css:".menu-overlay {\n    position: fixed;\n    bottom:0;\n    left:0;\n    right: 0;\n    top: 0;\n    opacity: 0;\n    -ms-touch-action: none;\n    touch-action: none;\n    background: rgba(73,73,73,0.5);\n    z-index: 1001;\n    transition: opacity 0.4s ease-in;\n}\n.container {\n    position: fixed;\n    bottom:0;\n    left:0;\n    right: 0;\n    top: 0;\n    -ms-touch-action: none;\n    touch-action: none;\n    z-index: 1002;\n}\n.menu {\n    outline: none !important;\n    margin-left: auto;\n    margin-right: auto;\n    left: 50%;\n    transform: translateX(-50%);\n    position: absolute;\n    width: 100%;\n    max-width: 420px;\n    background: white;\n    border: solid 1px rgba(0,0,0,0.1);\n    border-radius: 16px 16px 0 0;\n    box-shadow: 0 -5px 5px -5px #333;\n    transition: bottom 0.3s ease-in-out;\n    transition-delay: 0.1s;\n}\nbutton {\n    width: 100%;\n    height:48px;\n    padding: 16px;\n    background: none;\n    border: none;\n}\nbutton span {\n    font-family: sans-serif, Helvetica;\n    font-size: 120%;\n    margin-left: 24px;\n}\nbutton i {\n    color: dimgray;\n    font-size: 24px;\n    margin-left: 8px;\n}\nbutton:hover {\n    background: rgba(0,0,0,0.1);\n}\n.no-transition {\n    transition: none;\n}\n",view:'<div class="menu-overlay"></div>\n<div class="container">\n    <div #menu="" class="menu" tabindex="0"></div>\n</div>\n'},{componentId:"https://zuixjs.github.io/zkit/lib/1.2/controllers/view-pager",controller:(()=>{var t={};return t.exports=function(){let s={duration:.3,easing:"ease"},P="cubic-bezier(0.0,0.1,0.35,1.1)",j="cubic-bezier(0.0,0.1,0.35,1.0)",u="horizontal",h="vertical",i=1,H=-1,r=-1,o=0,n=null,a=3e3,l=i,t=null,c=!1,p=u,g=!1,d=!1,f=!1,v=!0,x=0,e=!1,m=!1,B=!1,y=!1,w=!1,b={width:0,height:0},T=null,z=null,D=null,X=new MutationObserver(function(t,e){D=Y.view().children(),I()}),Y=this;function I(){null!=t&&clearTimeout(t),t=setTimeout(M,250)}function M(t){if(t||!m&&null==T){D.each(function(t,e){this.css({position:"absolute",left:0,top:0})});let o=F(Y.view().get());if(0===o.width||0===o.height){if(0===o.height&&Y.view().position().visible){let n=0;D.each(function(t,e){e=F(e);e.height>n&&(n=e.height)}),o.height<n&&Y.view().css("height",n+"px")}I()}else{b=o;let n=0,i=!1;D.each(function(t,e){e=F(e);if(p===u){let t=(o.height-e.height)/2;t<0&&(t=0),_(this,s),Z(this,n,t),n+=e.width}else{let t=(o.width-e.width)/2;t<0&&(t=0),_(this,s),Z(this,t,n),n+=e.height}("true"===this.attr("z-lazy")||0<this.find('[z-lazy="true"]').length())&&(i=!0)}),y=i,q(r),1<D.length()&&S()}}else I()}function k(){let t=!1,e=parseInt(r)+1;return e>=D.length()&&(e=D.length()-1,t=!0),q(e,s),!t}function E(){let t=!1,e=parseInt(r)-1;return e<0&&(e=0,t=!0),q(e,s),!t}function G(){q(0,s)}function N(){q(D.length()-1,s)}function O(){Y.view().position().visible&&q(parseInt(r)+l,s),S()}function S(t){var e;t&&(a=t),W(),!0===g&&(t=Y.view().position().visible,n=t?(B||zuix.componentize(Y.view()),e=D.eq(r).attr("slide-interval")||a,setTimeout(O,e)):setTimeout(S,500),B=t)}function W(){null!=n&&clearTimeout(n)}function R(a,l){let c=0;return D.each(function(t,e){var n=L(this),t=(c=t,F(e));const i=n.position.x,o=n.position.y,s=t.width,r=t.height;if(p===u&&(i>a||i+s>a)||p===h&&(o>l||o+r>l))return!1}),c}function A(t,e){var n=Y.view().position();q(R(t.x-n.x,t.y-n.y),null!=e?e:s)}function q(t,e){o=r,t<0?(l=i,t=0):t>=D.length()?(l=H,t=D.length()-1):t!==r&&(l=r<t?i:H),(r=t)!=o&&(D.eq(r).css("z-index",1),-1!==o&&D.eq(o).css("z-index",0),Y.trigger("page:change",{in:r,out:o}));var t=D.eq(t),n=L(t),t=F(t.get());J({x:(b.width-t.width)/2-n.position.x,y:(b.height-t.height)/2-n.position.y},e),S()}function J(e,n){var i=C(),o=L(D.eq(0)),s=D.eq(D.length()-1),r=L(s);if(D.each(function(t,e){var n=L(this),i=C();n.dragStart={x:i.marginLeft+n.position.x,y:i.marginTop+n.position.y}}),p===u){let t=e.x;0<o.position.x+e.x?t=-o.position.x:r.position.x+s.get().offsetWidth+e.x<b.width&&(t=2*-i.marginLeft+b.width-(r.position.x+s.get().offsetWidth)),e.x-t!=0&&null!=n&&(n={duration:n.duration*(t/e.x),easing:P},!isFinite(n.duration)||n.duration<0)&&(n.duration=.2),$(t,0,n)}else{let t=e.y;0<o.position.y+e.y?t=-o.position.y:r.position.y+s.get().offsetHeight+e.y<b.height&&(t=2*-i.marginTop+b.height-(r.position.y+s.get().offsetHeight)),e.y-t!=0&&null!=n&&(n={duration:n.duration*(t/e.y),easing:P},!isFinite(n.duration)||n.duration<0)&&(n.duration=.2),$(0,t,n)}w=!0}function F(t){var e=t.getBoundingClientRect();return{width:e.width||t.offsetWidth,height:t.offsetHeight||e.height}}function L(t){t=t.get().data=t.get().data||{};return t.position=t.position||{x:0,y:0},t}function K(){y&&null==z&&clearInterval(T)}function C(){let n={w:0,h:0,marginLeft:0,marginTop:0};return D.each(function(t,e){e=F(e);n.w+=e.width,n.h+=e.height}),p===u&&n.w<b.width?n.marginLeft=(b.width-n.w)/2:p===h&&n.h<b.height&&(n.marginTop=(b.height-n.h)/2),n}function $(i,o,s){null!=s?(y&&(K(),null!=z&&clearTimeout(z),null!=T&&clearInterval(T),T=setInterval(function(){e&&D.each(function(t,e){var n=window.getComputedStyle(e,null);const i=parseFloat(n.width.replace("px","")),o=parseFloat(n.height.replace("px",""));var s,r=parseFloat(n.left.replace("px","")),n=parseFloat(n.top.replace("px",""));0<i&&0<o&&(e=zuix.$(e),s={left:-b.width/2,right:1.5*b.width,top:-b.height/2,bottom:1.5*b.height},r+i<s.left||n+o<s.top||s.right<r||s.bottom<n?"hidden"!==e.visibility()&&e.visibility("hidden"):"visible"!==e.visibility()&&e.visibility("visible"))}),zuix.componentize(Y.view())},10)),z=setTimeout(function(){z=null,K()},1e3*s.duration),s=s.duration+"s "+s.easing):y&&zuix.componentize(Y.view()),D.each(function(t,e){var n=L(this);_(this,s),Z(this,n.dragStart.x+i,n.dragStart.y+o)})}function Q(t,e){var n;m&&e.scrollIntent()&&!e.done&&(!c&&("left"!==e.direction&&"right"!==e.direction||p!==u)&&("up"!==e.direction&&"down"!==e.direction||p!==h)||(c||null!=e.event.touches||Y.view().get().addEventListener("click",function(t){c&&(c=!1,t.cancelBubble=!0,t.preventDefault()),Y.view().get().removeEventListener("click",this,!0)},!0),c=!0,e.cancel()),n=C(),p===u&&"horizontal"===e.scrollIntent()?$(e.shiftX-n.marginLeft,0):p===h&&"vertical"===e.scrollIntent()&&$(0,e.shiftY-n.marginTop))}function U(t){return!d||1.25<Math.abs(t.velocity)}function V(t,e){if(tt(e)&&!U(e))switch(e.direction){case"right":p===u&&E();break;case"left":p===u&&k();break;case"down":p===h&&E();break;case"up":p===h&&k()}}function Z(t,e,n){var i=L(t);isNaN(e)||isNaN(n)||(i.position={x:e,y:n},t.css({left:i.position.x+"px",top:i.position.y+"px"}))}function _(t,e){t.css({transition:e=null==e?"none":e})}function tt(t){let e=document.elementsFromPoint(t.x,t.y);return(!(0<e.length)||Y.view().get().contains(e[0]))&&0<(e=e.filter(t=>t.attributes["z-load"]&&t.attributes["z-load"].value===Y.view().attr("z-load"))).length&&e[0]===Y.view().get()}Y.init=function(){var t=Y.options();Y.view();t.html=!1,t.css=!1,d=!0===t.paging||d,g=!0===t.autoSlide||g,v=!1!==t.passive&&v,f=!0===t.holdTouch||f,x=t.startGap||x,!0===t.verticalLayout&&(p=h),null!=t.slideInterval&&(a=t.slideInterval||a),e=!0===t.autoHide||e},Y.create=function(){var t=Y.view().css({position:"relative",overflow:"hidden"});D=t.children(),t.find("img").each(function(t,e){this.one("load",I)}),zuix.$(window).on("resize",function(){M(!0)}).on("orientationchange",function(){M(!0)}),X.observe(t.get(),{attributes:!1,childList:!0,subtree:!0,characterData:!1}),I();let e=null;zuix.load("@lib/controllers/gesture-helper",{view:t,passive:v,startGap:x,on:{"gesture:touch":function(t,e){tt(e)&&(c=!1,W(),m=!0,w=!1,D.each(function(t,e){var n=L(this),i=C(),e=window.getComputedStyle(e,null);n.position.x=parseFloat(e.left.replace("px","")),n.position.y=parseFloat(e.top.replace("px","")),this.css("left",n.position.x+"px"),this.css("top",n.position.y+"px"),n.dragStart={x:i.marginLeft+n.position.x,y:i.marginTop+n.position.y}}),f)&&e.cancel()},"gesture:release":function(t,r){if(null!=r&&(r.done=!0,!w)&&(p===u&&"horizontal"===r.scrollIntent()||p===h&&"vertical"===r.scrollIntent())){var a=null;let t=Math.exp(Math.abs(r.velocity/(Math.abs(r.velocity)<=1.25?5:2))+1),e=.99+t/1e3,n=(.999<e&&(e=.999),Math.log(.01/Math.abs(r.velocity))/Math.log(e)),i={duration:n/1e3,easing:j},o=r.stepSpeed<1.25?0:t*r.velocity*(1-Math.pow(e,1+n))/(1-e),s={x:o,y:o};!U(r)&&null!=a||(a=r,r=s,d?(i.duration*=.5,p===u?A({x:a.x-r.x,y:a.y},i):A({x:a.x,y:a.y-r.y},i)):J(r,i))}K(),m=!1,S()},"gesture:tap":function(t,n){tt(n)&&(null!=e&&clearTimeout(e),e=setTimeout(function(){var t,e;t=n,e=Y.view().position(),e=R(t.x-e.x,t.y-e.y),Y.trigger("page:tap",e,t),d&&A(t)},50))},"gesture:pan":Q,"gesture:swipe":V},ready:function(){M(!0),q(0)}}),Y.expose("page",function(t){if(null==t)return parseInt(r);q(t,s)}).expose("get",function(t){return t<D.length()&&0<D.length()?D.eq(t):null}).expose("slide",function(t){!1!==t?S((g=!0)!==t?t:a):W()}).expose("layout",function(t){if(null==t)return p;p=t===h?h:u,I()}).expose("refresh",function(){M(!0)}).expose("next",k).expose("prev",E).expose("last",N).expose("first",G)},Y.destroy=function(){null!=X&&X.disconnect()}},t.exports})()},{componentId:"https://zuixjs.github.io/zkit/lib/1.2/controllers/gesture-helper",controller:(()=>{var t={};return t.exports=function(){let n=0,o=1,s=2,i=750,r=n,a,l=!1,c=!0,u=-1,h,p,g,d=!1,f=(new Date).getTime(),v=(Math.sign=Math.sign||function(t){return(0<t)-(t<0)||+t},this);function x(t,e,n){var i=(new Date).getTime();a={event:t,cancel:function(){a.event.cancelBubble=!0,c||a.event.preventDefault()},startX:e,startY:n,startTime:i,shiftX:0,shiftY:0,endTime:0,stepX:0,stepY:0,stepTime:i,velocity:0,x:e,y:n,scrollIntent:function(){switch(r){case o:return"horizontal";case s:return"vertical"}return!1}},g=(i=>{function t(){i.stepTime=i.endTime,i.stepX=i.shiftX,i.stepY=i.shiftY,i.stepSpeed=0,i.stepDistance=0}function o(){s=i.direction,r.time=(new Date).getTime(),r.x=i.x,r.y=i.y,i.velocity=0,i.distance=0,t()}let s,r={time:0,x:0,y:0},a={time:0,x:0,y:0};return o(),{update:function(){var t,e,n;a.time=(new Date).getTime(),a.x=i.x,a.y=i.y,null!=s&&s!==i.direction?o():(null==s&&i.direction!==s&&(s=i.direction),t=a.time-r.time,e={x:a.x-r.x,y:a.y-r.y},n=Math.sqrt(e.x*e.x+e.y*e.y),n=(i.distance=n)/t,i.velocity="left"===i.direction||"up"===i.direction?-n:n,i.stepTime=i.endTime-i.stepTime,e={x:i.shiftX-i.stepX,y:i.shiftY-i.stepY},i.stepDistance=Math.sqrt(e.x*e.x+e.y*e.y),i.stepSpeed=i.stepDistance/i.stepTime)},step:t}})(a),v.trigger("gesture:touch",a)}function e(t,e,n){null!=a&&(a.event=t,a.x=e,a.y=n,a.shiftX=e-a.startX,a.shiftY=n-a.startY,a.endTime=(new Date).getTime(),null!=(t=y())&&!1!==h&&(p=null!=p&&p!==a.direction?(h=!1,"cancel"):(h=t,a.direction)),v.trigger("gesture:pan",a))}function m(t){null!=a&&(g.update(),a.event=t,null!=(h=null==h?y():h))&&!1!==h&&v.trigger(h,a),v.trigger("gesture:release",a),r=n,p=null,h=null,a=null}function y(){let t=null;g.update();var e=180*Math.atan2(a.shiftY-a.stepY,a.shiftX-a.stepX)/Math.PI;return 0===a.shiftX&&0===a.shiftY&&a.startTime>f+100&&a.stepTime<i?(f=(new Date).getTime(),t="gesture:tap"):(r===n||r===o)&&2<a.stepDistance&&(135<=e&&e<=180||-180<=e&&e<=-135)?(a.direction="left",t="gesture:swipe",r=o):(r===n||r===o)&&2<a.stepDistance&&(0<=e&&e<=45||-45<=e&&e<0)?(a.direction="right",t="gesture:swipe",r=o):(r===n||r===s)&&2<a.stepDistance&&45<e&&e<135?(a.direction="down",t="gesture:swipe",r=s):(r===n||r===s)&&2<a.stepDistance&&-135<e&&e<-45&&(a.direction="up",t="gesture:swipe",r=s),2<a.stepDistance&&g.step(),t}v.init=function(){var t=v.options();t.html=!1,t.css=!1,c=!1!==t.passive&&c,u=t.startGap||u},v.create=function(){(c?zuix.$(window):v.view()).on("dragstart",{handler:function(t){l||c||t.preventDefault()},passive:c}).on("mousedown",{handler:function(t){var e=zuix.$(t.target);!(l=-1===document.elementsFromPoint(t.x,t.y).indexOf(v.view().get()))&&1===t.which&&0===e.parent('[class*="no-gesture"]').length()&&t.x>u?(d=!0,l=!1,e.get().draggable=!1,x(t,t.x,t.y)):l=!0},passive:c}).on("mousemove",{handler:function(t){!l&&d&&e(t,t.x,t.y)},passive:c}).on("mouseup",function(t){1!==t.which||l||(d=!1,m(t))}).on("touchstart",{handler:function(t){var e=zuix.$(t.target);!(l=-1===document.elementsFromPoint(t.touches[0].clientX,t.touches[0].clientY).indexOf(v.view().get()))&&0===e.parent('[class*="no-gesture"]').length()&&t.touches[0].clientX>u?(l=!1,e.get().draggable=!1,x(t,t.touches[0].clientX,t.touches[0].clientY)):l=!0},passive:c}).on("touchmove",{handler:function(t){l||e(t,t.touches[0].clientX,t.touches[0].clientY)},passive:c}).on("touchend",function(t){l||m(t)})}},t.exports})()},{componentId:"https://zuixjs.github.io/zkit/lib/1.1/controllers/gesture-helper",controller:(()=>{var t={};return t.exports=function(){let n=0,o=1,s=2,i=750,r=n,a,l=!1,c=!0,u=-1,h,p,g,d=!1,f=(new Date).getTime(),v=(Math.sign=Math.sign||function(t){return(0<t)-(t<0)||+t},this);function x(t,e,n){var i=(new Date).getTime();a={event:t,cancel:function(){a.event.cancelBubble=!0,c||a.event.preventDefault()},startX:e,startY:n,startTime:i,shiftX:0,shiftY:0,endTime:0,stepX:0,stepY:0,stepTime:i,velocity:0,x:e,y:n,scrollIntent:function(){switch(r){case o:return"horizontal";case s:return"vertical"}return!1}},g=(i=>{function t(){i.stepTime=i.endTime,i.stepX=i.shiftX,i.stepY=i.shiftY,i.stepSpeed=0,i.stepDistance=0}function o(){s=i.direction,r.time=(new Date).getTime(),r.x=i.x,r.y=i.y,i.velocity=0,i.distance=0,t()}let s,r={time:0,x:0,y:0},a={time:0,x:0,y:0};return o(),{update:function(){var t,e,n;a.time=(new Date).getTime(),a.x=i.x,a.y=i.y,null!=s&&s!==i.direction?o():(null==s&&i.direction!==s&&(s=i.direction),t=a.time-r.time,e={x:a.x-r.x,y:a.y-r.y},n=Math.sqrt(e.x*e.x+e.y*e.y),n=(i.distance=n)/t,i.velocity="left"===i.direction||"up"===i.direction?-n:n,i.stepTime=i.endTime-i.stepTime,e={x:i.shiftX-i.stepX,y:i.shiftY-i.stepY},i.stepDistance=Math.sqrt(e.x*e.x+e.y*e.y),i.stepSpeed=i.stepDistance/i.stepTime)},step:t}})(a),v.trigger("gesture:touch",a)}function e(t,e,n){null!=a&&(a.event=t,a.x=e,a.y=n,a.shiftX=e-a.startX,a.shiftY=n-a.startY,a.endTime=(new Date).getTime(),null!=(t=y())&&!1!==h&&(p=null!=p&&p!==a.direction?(h=!1,"cancel"):(h=t,a.direction)),v.trigger("gesture:pan",a))}function m(t){null!=a&&(g.update(),a.event=t,null!=(h=null==h?y():h))&&!1!==h&&v.trigger(h,a),v.trigger("gesture:release",a),r=n,p=null,h=null,a=null}function y(){let t=null;g.update();var e=180*Math.atan2(a.shiftY-a.stepY,a.shiftX-a.stepX)/Math.PI;return 0===a.shiftX&&0===a.shiftY&&a.startTime>f+100&&a.stepTime<i?(f=(new Date).getTime(),t="gesture:tap"):(r===n||r===o)&&2<a.stepDistance&&(135<=e&&e<=180||-180<=e&&e<=-135)?(a.direction="left",t="gesture:swipe",r=o):(r===n||r===o)&&2<a.stepDistance&&(0<=e&&e<=45||-45<=e&&e<0)?(a.direction="right",t="gesture:swipe",r=o):(r===n||r===s)&&2<a.stepDistance&&45<e&&e<135?(a.direction="down",t="gesture:swipe",r=s):(r===n||r===s)&&2<a.stepDistance&&-135<e&&e<-45&&(a.direction="up",t="gesture:swipe",r=s),2<a.stepDistance&&g.step(),t}v.init=function(){var t=v.view(),e=v.options();e.html=!1,e.css=!1,c=!1!==e.passive&&"false"!==t.attr("data-o-passive"),u=e.startGap||t.attr("data-o-startgap")},v.create=function(){(c?zuix.$(window):v.view()).on("dragstart",{handler:function(t){l||c||t.preventDefault()},passive:c}).on("mousedown",{handler:function(t){var e=zuix.$(t.target);1===t.which&&0===e.parent('[class*="no-gesture"]').length()&&t.x>u?(d=!0,l=!1,e.get().draggable=!1,x(t,t.x,t.y)):l=!0},passive:c}).on("mousemove",{handler:function(t){!l&&d&&e(t,t.x,t.y)},passive:c}).on("mouseup",function(t){1!==t.which||l||(d=!1,m(t))}).on("touchstart",{handler:function(t){var e=zuix.$(t.target);0===e.parent('[class*="no-gesture"]').length()&&t.touches[0].clientX>u?(l=!1,e.get().draggable=!1,x(t,t.touches[0].clientX,t.touches[0].clientY)):l=!0},passive:c}).on("touchmove",{handler:function(t){l||e(t,t.touches[0].clientX,t.touches[0].clientY)},passive:c}).on("touchend",function(t){l||m(t)})}},t.exports})()}]);