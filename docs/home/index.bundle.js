zuix.setComponentCache([{componentId:"https://zuixjs.github.io/zkit/lib/1.2/components/context-menu",controller:function(){"use strict";let t={};return t.exports=function(n){let i,t,e,o=!0;function s(){o&&!i.isPlaying()&&(o=!1,e.show(),i.playTransition({onEnd:function(t,e){n.trigger("open")}}),i.css("bottom",0).get().focus(),t.css("opacity",1))}function r(){o||i.isPlaying()||(o=!0,i.playTransition({onEnd:function(){e.hide(),n.trigger("close")}}),t.css("opacity",0),i.css("bottom",-i.position().rect.height+"px"))}n.create=function(){(i=n.field("menu")).css("bottom",-i.position().rect.height+"px"),e=n.view().hide(),t=e.find(".menu-overlay"),e.find(".container").on({click:r,keydown:function(t){27===(t=t||window.event).keyCode&&r()}}),zuix.load("https://zuixjs.github.io/zkit/lib/1.1/controllers/gesture-helper",{view:e,on:{"gesture:pan":function(t,e){i.hasClass("no-transition")||i.addClass("no-transition"),0<e.shiftY&&i.css("bottom",-e.shiftY+"px")},"gesture:release":function(t,e){i.removeClass("no-transition"),e.velocity<=0&&"up"===e.direction?i.css("bottom",0):"down"===e.direction&&r()}}}),n.expose("show",s),n.expose("hide",r)}},t.exports}(),css:".menu-overlay {\n    position: fixed;\n    bottom:0;\n    left:0;\n    right: 0;\n    top: 0;\n    opacity: 0;\n    -ms-touch-action: none;\n    touch-action: none;\n    background: rgba(73,73,73,0.5);\n    z-index: 1001;\n    transition: opacity 0.4s ease-in;\n}\n.container {\n    position: fixed;\n    bottom:0;\n    left:0;\n    right: 0;\n    top: 0;\n    -ms-touch-action: none;\n    touch-action: none;\n    z-index: 1002;\n}\n.menu {\n    outline: none !important;\n    margin-left: auto;\n    margin-right: auto;\n    left: 50%;\n    transform: translateX(-50%);\n    position: absolute;\n    width: 100%;\n    max-width: 420px;\n    background: white;\n    border: solid 1px rgba(0,0,0,0.1);\n    border-radius: 16px 16px 0 0;\n    box-shadow: 0 -5px 5px -5px #333;\n    transition: bottom 0.3s ease-in-out;\n    transition-delay: 0.1s;\n}\nbutton {\n    width: 100%;\n    height:48px;\n    padding: 16px;\n    background: none;\n    border: none;\n}\nbutton span {\n    font-family: sans-serif, Helvetica;\n    font-size: 120%;\n    margin-left: 24px;\n}\nbutton i {\n    color: dimgray;\n    font-size: 24px;\n    margin-left: 8px;\n}\nbutton:hover {\n    background: rgba(0,0,0,0.1);\n}\n.no-transition {\n    transition: none;\n}\n",view:'<div class="menu-overlay"></div>\n<div class="container">\n    <div #menu="" class="menu" tabindex="0"></div>\n</div>\n'},{componentId:"https://zuixjs.github.io/zkit/lib/1.2/controllers/view-pager",controller:function(){"use strict";let t={};return t.exports=function(){const s={duration:.3,easing:"ease"},P="cubic-bezier(0.0,0.1,0.35,1.1)",j="cubic-bezier(0.0,0.1,0.35,1.0)",u="horizontal",h="vertical",o=1,H=-1;let r=-1,a=0,n=null,i=3e3,c=o,t=null,l=!1,p=u,g=!1,d=!1,f=!1,x=!0,v=0,e=!1,m=!1,B=!1,y=!1,w=!1,b={width:0,height:0},T=null,z=null,D=null;const X=new MutationObserver(function(t,e){D=Y.view().children(),I()}),Y=this;function I(){null!=t&&clearTimeout(t),t=setTimeout(M,250)}function M(t){if(t||!m&&null==T){D.each(function(t,e){this.css({position:"absolute",left:0,top:0})});const o=F(Y.view().get());if(0===o.width||0===o.height){if(0===o.height&&Y.view().position().visible){let n=0;D.each(function(t,e){e=F(e);e.height>n&&(n=e.height)}),o.height<n&&Y.view().css("height",n+"px")}I()}else{b=o;let n=0,i=!1;D.each(function(t,e){e=F(e);if(p===u){let t=(o.height-e.height)/2;t<0&&(t=0),_(this,s),Z(this,n,t),n+=e.width}else{let t=(o.width-e.width)/2;t<0&&(t=0),_(this,s),Z(this,t,n),n+=e.height}("true"===this.attr("z-lazy")||0<this.find('[z-lazy="true"]').length())&&(i=!0)}),y=i,q(r),1<D.length()&&S()}}else I()}function k(){let t=!1,e=parseInt(r)+1;return e>=D.length()&&(e=D.length()-1,t=!0),q(e,s),!t}function E(){let t=!1,e=parseInt(r)-1;return e<0&&(e=0,t=!0),q(e,s),!t}function G(){q(0,s)}function N(){q(D.length()-1,s)}function O(){Y.view().position().visible&&q(parseInt(r)+c,s),S()}function S(t){var e;t&&(i=t),W(),!0===g&&(t=Y.view().position().visible,n=t?(B||zuix.componentize(Y.view()),e=D.eq(r).attr("slide-interval")||i,setTimeout(O,e)):setTimeout(S,500),B=t)}function W(){null!=n&&clearTimeout(n)}function R(a,c){let l=0;return D.each(function(t,e){var n=L(this),t=(l=t,F(e));const i=n.position.x,o=n.position.y,s=t.width,r=t.height;if(p===u&&(i>a||i+s>a)||p===h&&(o>c||o+r>c))return!1}),l}function A(t,e){var n=Y.view().position();q(R(t.x-n.x,t.y-n.y),null!=e?e:s)}function q(t,e){a=r,t<0?(c=o,t=0):t>=D.length()?(c=H,t=D.length()-1):t!==r&&(c=r<t?o:H),(r=t)!=a&&(D.eq(r).css("z-index",1),-1!==a&&D.eq(a).css("z-index",0),Y.trigger("page:change",{in:r,out:a}));const n=D.eq(t);var t=L(n),i=F(n.get());J({x:(b.width-i.width)/2-t.position.x,y:(b.height-i.height)/2-t.position.y},e),S()}function J(e,n){var i=C(),o=L(D.eq(0));const s=D.eq(D.length()-1);var r=L(s);if(D.each(function(t,e){const n=L(this);var i=C();n.dragStart={x:i.marginLeft+n.position.x,y:i.marginTop+n.position.y}}),p===u){let t=e.x;0<o.position.x+e.x?t=-o.position.x:r.position.x+s.get().offsetWidth+e.x<b.width&&(t=2*-i.marginLeft+b.width-(r.position.x+s.get().offsetWidth)),e.x-t!=0&&null!=n&&(n={duration:n.duration*(t/e.x),easing:P},(!isFinite(n.duration)||n.duration<0)&&(n.duration=.2)),$(t,0,n)}else{let t=e.y;0<o.position.y+e.y?t=-o.position.y:r.position.y+s.get().offsetHeight+e.y<b.height&&(t=2*-i.marginTop+b.height-(r.position.y+s.get().offsetHeight)),e.y-t!=0&&null!=n&&(n={duration:n.duration*(t/e.y),easing:P},(!isFinite(n.duration)||n.duration<0)&&(n.duration=.2)),$(0,t,n)}w=!0}function F(t){var e=t.getBoundingClientRect();return{width:e.width||t.offsetWidth,height:t.offsetHeight||e.height}}function L(t){const e=t.get().data=t.get().data||{};return e.position=e.position||{x:0,y:0},e}function K(){y&&null==z&&clearInterval(T)}function C(){const n={w:0,h:0,marginLeft:0,marginTop:0};return D.each(function(t,e){e=F(e);n.w+=e.width,n.h+=e.height}),p===u&&n.w<b.width?n.marginLeft=(b.width-n.w)/2:p===h&&n.h<b.height&&(n.marginTop=(b.height-n.h)/2),n}function $(i,o,s){null!=s?(y&&(K(),null!=z&&clearTimeout(z),null!=T&&clearInterval(T),T=setInterval(function(){e&&D.each(function(t,e){const n=window.getComputedStyle(e,null),i=parseFloat(n.width.replace("px","")),o=parseFloat(n.height.replace("px",""));var s=parseFloat(n.left.replace("px","")),r=parseFloat(n.top.replace("px",""));if(0<i&&0<o){e=zuix.$(e);const a=-b.width/2,c=1.5*b.width,l=-b.height/2,u=1.5*b.height;s+i<a||r+o<l||s>c||r>u?"hidden"!==e.visibility()&&e.visibility("hidden"):"visible"!==e.visibility()&&e.visibility("visible")}}),zuix.componentize(Y.view())},10)),z=setTimeout(function(){z=null,K()},1e3*s.duration),s=s.duration+"s "+s.easing):y&&zuix.componentize(Y.view()),D.each(function(t,e){var n=L(this);_(this,s),Z(this,n.dragStart.x+i,n.dragStart.y+o)})}function Q(t,e){var n;m&&e.scrollIntent()&&!e.done&&(!l&&("left"!==e.direction&&"right"!==e.direction||p!==u)&&("up"!==e.direction&&"down"!==e.direction||p!==h)||(l||null!=e.event.touches||Y.view().get().addEventListener("click",function(t){l&&(l=!1,t.cancelBubble=!0,t.preventDefault()),Y.view().get().removeEventListener("click",this,!0)},!0),l=!0,e.cancel()),n=C(),p===u&&"horizontal"===e.scrollIntent()?$(e.shiftX-n.marginLeft,0):p===h&&"vertical"===e.scrollIntent()&&$(0,e.shiftY-n.marginTop))}function U(t){return!d||1.25<Math.abs(t.velocity)}function V(t,e){if(tt(e)&&!U(e))switch(e.direction){case"right":p===u&&E();break;case"left":p===u&&k();break;case"down":p===h&&E();break;case"up":p===h&&k()}}function Z(t,e,n){const i=L(t);isNaN(e)||isNaN(n)||(i.position={x:e,y:n},t.css({left:i.position.x+"px",top:i.position.y+"px"})),i}function _(t,e){t.css({transition:e=null==e?"none":e})}function tt(t){let e=document.elementsFromPoint(t.x,t.y);return(!(0<e.length)||Y.view().get().contains(e[0]))&&(0<(e=e.filter(t=>t.attributes["z-load"]&&t.attributes["z-load"].value===Y.view().attr("z-load"))).length&&e[0]===Y.view().get())}Y.init=function(){const t=Y.options();Y.view();t.html=!1,t.css=!1,d=!0===t.paging||d,g=!0===t.autoSlide||g,x=!1!==t.passive&&x,f=!0===t.holdTouch||f,v=t.startGap||v,!0===t.verticalLayout&&(p=h),null!=t.slideInterval&&(i=t.slideInterval||i),e=!0===t.autoHide||e},Y.create=function(){const t=Y.view().css({position:"relative",overflow:"hidden"});D=t.children(),t.find("img").each(function(t,e){this.one("load",I)}),zuix.$(window).on("resize",function(){M(!0)}).on("orientationchange",function(){M(!0)}),X.observe(t.get(),{attributes:!1,childList:!0,subtree:!0,characterData:!1}),I();let e=null;zuix.load("@lib/controllers/gesture-helper",{view:t,passive:x,startGap:v,on:{"gesture:touch":function(t,e){tt(e)&&(l=!1,W(),m=!0,w=!1,D.each(function(t,e){const n=L(this);var i=C();const o=window.getComputedStyle(e,null);n.position.x=parseFloat(o.left.replace("px","")),n.position.y=parseFloat(o.top.replace("px","")),this.css("left",n.position.x+"px"),this.css("top",n.position.y+"px"),n.dragStart={x:i.marginLeft+n.position.x,y:i.marginTop+n.position.y}}),f&&e.cancel())},"gesture:release":function(t,e){if(null!=e&&(e.done=!0,!w&&(p===u&&"horizontal"===e.scrollIntent()||p===h&&"vertical"===e.scrollIntent()))){var n=null,i=Math.exp(Math.abs(e.velocity/(Math.abs(e.velocity)<=1.25?5:2))+1);let t=.99+i/1e3;.999<t&&(t=.999);const r=Math.log(.01/Math.abs(e.velocity))/Math.log(t),a={duration:r/1e3,easing:j},c=e.stepSpeed<1.25?0:i*e.velocity*(1-Math.pow(t,1+r))/(1-t),l={x:c,y:c};if(U(e)||null==n){var o=e;var s=l;d?(a.duration*=.5,p===u?A({x:o.x-s.x,y:o.y},a):A({x:o.x,y:o.y-s.y},a)):J(s,a)}}K(),m=!1,S()},"gesture:tap":function(t,n){tt(n)&&(null!=e&&clearTimeout(e),e=setTimeout(function(){var t,e;t=n,e=Y.view().position(),e=R(t.x-e.x,t.y-e.y),Y.trigger("page:tap",e,t),d&&A(t)},50))},"gesture:pan":Q,"gesture:swipe":V},ready:function(){M(!0),q(0)}}),Y.expose("page",function(t){if(null==t)return parseInt(r);q(t,s)}).expose("get",function(t){return t<D.length()&&0<D.length()?D.eq(t):null}).expose("slide",function(t){!1!==t?S((g=!0)!==t?t:i):W()}).expose("layout",function(t){if(null==t)return p;p=t===h?h:u,I()}).expose("refresh",function(){M(!0)}).expose("next",k).expose("prev",E).expose("last",N).expose("first",G)},Y.destroy=function(){null!=X&&X.disconnect()}},t.exports}()},{componentId:"https://zuixjs.github.io/zkit/lib/1.2/controllers/gesture-helper",controller:function(){"use strict";let t={};return t.exports=function(){const n=0,o=1,s=2,i=750;let r=n,a,c=!1,l=!0,u=-1,h,p,g,d=!1,f=(new Date).getTime();Math.sign=Math.sign||function(t){return(0<t)-(t<0)||+t};const x=this;function v(t,e,n){var i=(new Date).getTime();a={event:t,cancel:function(){a.event.cancelBubble=!0,l||a.event.preventDefault()},startX:e,startY:n,startTime:i,shiftX:0,shiftY:0,endTime:0,stepX:0,stepY:0,stepTime:i,velocity:0,x:e,y:n,scrollIntent:function(){switch(r){case o:return"horizontal";case s:return"vertical"}return!1}},g=function(i){let o;function t(){i.stepTime=i.endTime,i.stepX=i.shiftX,i.stepY=i.shiftY,i.stepSpeed=0,i.stepDistance=0}function s(){o=i.direction,r.time=(new Date).getTime(),r.x=i.x,r.y=i.y,i.velocity=0,i.distance=0,t()}const r={time:0,x:0,y:0},a={time:0,x:0,y:0};return s(),{update:function(){var t,e,n;a.time=(new Date).getTime(),a.x=i.x,a.y=i.y,null!=o&&o!==i.direction?s():(null==o&&i.direction!==o&&(o=i.direction),t=a.time-r.time,e={x:a.x-r.x,y:a.y-r.y},n=Math.sqrt(e.x*e.x+e.y*e.y),n=(i.distance=n)/t,i.velocity="left"===i.direction||"up"===i.direction?-n:n,i.stepTime=i.endTime-i.stepTime,e={x:i.shiftX-i.stepX,y:i.shiftY-i.stepY},i.stepDistance=Math.sqrt(e.x*e.x+e.y*e.y),i.stepSpeed=i.stepDistance/i.stepTime)},step:t}}(a),x.trigger("gesture:touch",a)}function e(t,e,n){null!=a&&(a.event=t,a.x=e,a.y=n,a.shiftX=e-a.startX,a.shiftY=n-a.startY,a.endTime=(new Date).getTime(),null!=(t=y())&&!1!==h&&(p=null!=p&&p!==a.direction?(h=!1,"cancel"):(h=t,a.direction)),x.trigger("gesture:pan",a))}function m(t){null!=a&&(g.update(),a.event=t,null!=(h=null==h?y():h)&&!1!==h&&x.trigger(h,a)),x.trigger("gesture:release",a),r=n,p=null,h=null,a=null}function y(){let t=null;g.update();var e=180*Math.atan2(a.shiftY-a.stepY,a.shiftX-a.stepX)/Math.PI;return 0===a.shiftX&&0===a.shiftY&&a.startTime>f+100&&a.stepTime<i?(f=(new Date).getTime(),t="gesture:tap"):(r===n||r===o)&&2<a.stepDistance&&(135<=e&&e<=180||-180<=e&&e<=-135)?(a.direction="left",t="gesture:swipe",r=o):(r===n||r===o)&&2<a.stepDistance&&(0<=e&&e<=45||-45<=e&&e<0)?(a.direction="right",t="gesture:swipe",r=o):(r===n||r===s)&&2<a.stepDistance&&45<e&&e<135?(a.direction="down",t="gesture:swipe",r=s):(r===n||r===s)&&2<a.stepDistance&&-135<e&&e<-45&&(a.direction="up",t="gesture:swipe",r=s),2<a.stepDistance&&g.step(),t}x.init=function(){const t=x.options();t.html=!1,t.css=!1,l=!1!==t.passive&&l,u=t.startGap||u},x.create=function(){const t=l?zuix.$(window):x.view();t.on("dragstart",{handler:function(t){c||l||t.preventDefault()},passive:l}).on("mousedown",{handler:function(t){const e=zuix.$(t.target);!(c=-1===document.elementsFromPoint(t.x,t.y).indexOf(x.view().get()))&&1===t.which&&0===e.parent('[class*="no-gesture"]').length()&&t.x>u?(d=!0,c=!1,e.get().draggable=!1,v(t,t.x,t.y)):c=!0},passive:l}).on("mousemove",{handler:function(t){!c&&d&&e(t,t.x,t.y)},passive:l}).on("mouseup",function(t){1!==t.which||c||(d=!1,m(t))}).on("touchstart",{handler:function(t){const e=zuix.$(t.target);!(c=-1===document.elementsFromPoint(t.touches[0].clientX,t.touches[0].clientY).indexOf(x.view().get()))&&0===e.parent('[class*="no-gesture"]').length()&&t.touches[0].clientX>u?(c=!1,e.get().draggable=!1,v(t,t.touches[0].clientX,t.touches[0].clientY)):c=!0},passive:l}).on("touchmove",{handler:function(t){c||e(t,t.touches[0].clientX,t.touches[0].clientY)},passive:l}).on("touchend",function(t){c||m(t)})}},t.exports}()},{componentId:"https://zuixjs.github.io/zkit/lib/1.1/controllers/gesture-helper",controller:function(){"use strict";let t={};return t.exports=function(){const n=0,o=1,s=2,i=750;let r=n,a,c=!1,l=!0,u=-1,h,p,g,d=!1,f=(new Date).getTime();Math.sign=Math.sign||function(t){return(0<t)-(t<0)||+t};const x=this;function v(t,e,n){var i=(new Date).getTime();a={event:t,cancel:function(){a.event.cancelBubble=!0,l||a.event.preventDefault()},startX:e,startY:n,startTime:i,shiftX:0,shiftY:0,endTime:0,stepX:0,stepY:0,stepTime:i,velocity:0,x:e,y:n,scrollIntent:function(){switch(r){case o:return"horizontal";case s:return"vertical"}return!1}},g=function(i){let o;function t(){i.stepTime=i.endTime,i.stepX=i.shiftX,i.stepY=i.shiftY,i.stepSpeed=0,i.stepDistance=0}function s(){o=i.direction,r.time=(new Date).getTime(),r.x=i.x,r.y=i.y,i.velocity=0,i.distance=0,t()}const r={time:0,x:0,y:0},a={time:0,x:0,y:0};return s(),{update:function(){var t,e,n;a.time=(new Date).getTime(),a.x=i.x,a.y=i.y,null!=o&&o!==i.direction?s():(null==o&&i.direction!==o&&(o=i.direction),t=a.time-r.time,e={x:a.x-r.x,y:a.y-r.y},n=Math.sqrt(e.x*e.x+e.y*e.y),n=(i.distance=n)/t,i.velocity="left"===i.direction||"up"===i.direction?-n:n,i.stepTime=i.endTime-i.stepTime,e={x:i.shiftX-i.stepX,y:i.shiftY-i.stepY},i.stepDistance=Math.sqrt(e.x*e.x+e.y*e.y),i.stepSpeed=i.stepDistance/i.stepTime)},step:t}}(a),x.trigger("gesture:touch",a)}function e(t,e,n){null!=a&&(a.event=t,a.x=e,a.y=n,a.shiftX=e-a.startX,a.shiftY=n-a.startY,a.endTime=(new Date).getTime(),null!=(t=y())&&!1!==h&&(p=null!=p&&p!==a.direction?(h=!1,"cancel"):(h=t,a.direction)),x.trigger("gesture:pan",a))}function m(t){null!=a&&(g.update(),a.event=t,null!=(h=null==h?y():h)&&!1!==h&&x.trigger(h,a)),x.trigger("gesture:release",a),r=n,p=null,h=null,a=null}function y(){let t=null;g.update();var e=180*Math.atan2(a.shiftY-a.stepY,a.shiftX-a.stepX)/Math.PI;return 0===a.shiftX&&0===a.shiftY&&a.startTime>f+100&&a.stepTime<i?(f=(new Date).getTime(),t="gesture:tap"):(r===n||r===o)&&2<a.stepDistance&&(135<=e&&e<=180||-180<=e&&e<=-135)?(a.direction="left",t="gesture:swipe",r=o):(r===n||r===o)&&2<a.stepDistance&&(0<=e&&e<=45||-45<=e&&e<0)?(a.direction="right",t="gesture:swipe",r=o):(r===n||r===s)&&2<a.stepDistance&&45<e&&e<135?(a.direction="down",t="gesture:swipe",r=s):(r===n||r===s)&&2<a.stepDistance&&-135<e&&e<-45&&(a.direction="up",t="gesture:swipe",r=s),2<a.stepDistance&&g.step(),t}x.init=function(){const t=x.view(),e=x.options();e.html=!1,e.css=!1,l=!1!==e.passive&&"false"!==t.attr("data-o-passive"),u=e.startGap||t.attr("data-o-startgap")},x.create=function(){const t=l?zuix.$(window):x.view();t.on("dragstart",{handler:function(t){c||l||t.preventDefault()},passive:l}).on("mousedown",{handler:function(t){const e=zuix.$(t.target);1===t.which&&0===e.parent('[class*="no-gesture"]').length()&&t.x>u?(d=!0,c=!1,e.get().draggable=!1,v(t,t.x,t.y)):c=!0},passive:l}).on("mousemove",{handler:function(t){!c&&d&&e(t,t.x,t.y)},passive:l}).on("mouseup",function(t){1!==t.which||c||(d=!1,m(t))}).on("touchstart",{handler:function(t){const e=zuix.$(t.target);0===e.parent('[class*="no-gesture"]').length()&&t.touches[0].clientX>u?(c=!1,e.get().draggable=!1,v(t,t.touches[0].clientX,t.touches[0].clientY)):c=!0},passive:l}).on("touchmove",{handler:function(t){c||e(t,t.touches[0].clientX,t.touches[0].clientY)},passive:l}).on("touchend",function(t){c||m(t)})}},t.exports}()}]);