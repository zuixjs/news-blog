zuix.setComponentCache([{componentId:"https://zuixjs.github.io/zkit/lib/1.2/components/context-menu",controller:(()=>{var t={exports:function(e){let i,t,n,o=!0;function s(){o&&!i.isPlaying()&&(o=!1,n.show(),i.playTransition({onEnd:function(t,n){e.trigger("open")}}),i.css("bottom",0).get().focus(),t.css("opacity",1))}function a(){o||i.isPlaying()||(o=!0,i.playTransition({onEnd:function(){n.hide(),e.trigger("close")}}),t.css("opacity",0),i.css("bottom",-i.position().rect.height+"px"))}e.create=function(){(i=e.field("menu")).css("bottom",-i.position().rect.height+"px"),n=e.view().hide(),t=n.find(".menu-overlay"),n.find(".container").on({click:a,keydown:function(t){27===(t=t||window.event).keyCode&&a()}}),zuix.load("https://zuixjs.github.io/zkit/lib/1.1/controllers/gesture-helper",{view:n,on:{"gesture:pan":function(t,n){i.hasClass("no-transition")||i.addClass("no-transition"),0<n.shiftY&&i.css("bottom",-n.shiftY+"px")},"gesture:release":function(t,n){i.removeClass("no-transition"),n.velocity<=0&&"up"===n.direction?i.css("bottom",0):"down"===n.direction&&a()}}}),e.expose("show",s),e.expose("hide",a)}}};return t.exports})(),css:".menu-overlay {\n    position: fixed;\n    bottom:0;\n    left:0;\n    right: 0;\n    top: 0;\n    opacity: 0;\n    -ms-touch-action: none;\n    touch-action: none;\n    background: rgba(73,73,73,0.5);\n    z-index: 1001;\n    transition: opacity 0.4s ease-in;\n}\n.container {\n    position: fixed;\n    bottom:0;\n    left:0;\n    right: 0;\n    top: 0;\n    -ms-touch-action: none;\n    touch-action: none;\n    z-index: 1002;\n}\n.menu {\n    outline: none !important;\n    margin-left: auto;\n    margin-right: auto;\n    left: 50%;\n    transform: translateX(-50%);\n    position: absolute;\n    width: 100%;\n    max-width: 420px;\n    background: white;\n    border: solid 1px rgba(0,0,0,0.1);\n    border-radius: 16px 16px 0 0;\n    box-shadow: 0 -5px 5px -5px #333;\n    transition: bottom 0.3s ease-in-out;\n    transition-delay: 0.1s;\n}\nbutton {\n    width: 100%;\n    height:48px;\n    padding: 16px;\n    background: none;\n    border: none;\n}\nbutton span {\n    font-family: sans-serif, Helvetica;\n    font-size: 120%;\n    margin-left: 24px;\n}\nbutton i {\n    color: dimgray;\n    font-size: 24px;\n    margin-left: 8px;\n}\nbutton:hover {\n    background: rgba(0,0,0,0.1);\n}\n.no-transition {\n    transition: none;\n}\n",view:'<div class="menu-overlay"></div>\n<div class="container">\n    <div #menu="" class="menu" tabindex="0"></div>\n</div>\n'},{componentId:"https://zuixjs.github.io/zkit/lib/1.1/controllers/gesture-helper",controller:(()=>{var t={};return t.exports=function(){let e=0,o=1,s=2,i=750,a=e,r,c=!1,u=!0,l=-1,p,d,h,g=!1,f=(new Date).getTime(),m=(Math.sign=Math.sign||function(t){return(0<t)-(t<0)||+t},this);function x(t,n,e){var i=(new Date).getTime();r={event:t,cancel:function(){r.event.cancelBubble=!0,u||r.event.preventDefault()},startX:n,startY:e,startTime:i,shiftX:0,shiftY:0,endTime:0,stepX:0,stepY:0,stepTime:i,velocity:0,x:n,y:e,scrollIntent:function(){switch(a){case o:return"horizontal";case s:return"vertical"}return!1}},h=(i=>{function t(){i.stepTime=i.endTime,i.stepX=i.shiftX,i.stepY=i.shiftY,i.stepSpeed=0,i.stepDistance=0}function o(){s=i.direction,a.time=(new Date).getTime(),a.x=i.x,a.y=i.y,i.velocity=0,i.distance=0,t()}let s,a={time:0,x:0,y:0},r={time:0,x:0,y:0};return o(),{update:function(){var t,n,e;r.time=(new Date).getTime(),r.x=i.x,r.y=i.y,null!=s&&s!==i.direction?o():(null==s&&i.direction!==s&&(s=i.direction),t=r.time-a.time,n={x:r.x-a.x,y:r.y-a.y},e=Math.sqrt(n.x*n.x+n.y*n.y),e=(i.distance=e)/t,i.velocity="left"===i.direction||"up"===i.direction?-e:e,i.stepTime=i.endTime-i.stepTime,n={x:i.shiftX-i.stepX,y:i.shiftY-i.stepY},i.stepDistance=Math.sqrt(n.x*n.x+n.y*n.y),i.stepSpeed=i.stepDistance/i.stepTime)},step:t}})(r),m.trigger("gesture:touch",r)}function n(t,n,e){null!=r&&(r.event=t,r.x=n,r.y=e,r.shiftX=n-r.startX,r.shiftY=e-r.startY,r.endTime=(new Date).getTime(),null!=(t=y())&&!1!==p&&(d=null!=d&&d!==r.direction?(p=!1,"cancel"):(p=t,r.direction)),m.trigger("gesture:pan",r))}function v(t){null!=r&&(h.update(),r.event=t,null!=(p=null==p?y():p))&&!1!==p&&m.trigger(p,r),m.trigger("gesture:release",r),a=e,d=null,p=null,r=null}function y(){let t=null;h.update();var n=180*Math.atan2(r.shiftY-r.stepY,r.shiftX-r.stepX)/Math.PI;return 0===r.shiftX&&0===r.shiftY&&r.startTime>f+100&&r.stepTime<i?(f=(new Date).getTime(),t="gesture:tap"):(a===e||a===o)&&2<r.stepDistance&&(135<=n&&n<=180||-180<=n&&n<=-135)?(r.direction="left",t="gesture:swipe",a=o):(a===e||a===o)&&2<r.stepDistance&&(0<=n&&n<=45||-45<=n&&n<0)?(r.direction="right",t="gesture:swipe",a=o):(a===e||a===s)&&2<r.stepDistance&&45<n&&n<135?(r.direction="down",t="gesture:swipe",a=s):(a===e||a===s)&&2<r.stepDistance&&-135<n&&n<-45&&(r.direction="up",t="gesture:swipe",a=s),2<r.stepDistance&&h.step(),t}m.init=function(){var t=m.view(),n=m.options();n.html=!1,n.css=!1,u=!1!==n.passive&&"false"!==t.attr("data-o-passive"),l=n.startGap||t.attr("data-o-startgap")},m.create=function(){(u?zuix.$(window):m.view()).on("dragstart",{handler:function(t){c||u||t.preventDefault()},passive:u}).on("mousedown",{handler:function(t){var n=zuix.$(t.target);1===t.which&&0===n.parent('[class*="no-gesture"]').length()&&t.x>l?(g=!0,c=!1,n.get().draggable=!1,x(t,t.x,t.y)):c=!0},passive:u}).on("mousemove",{handler:function(t){!c&&g&&n(t,t.x,t.y)},passive:u}).on("mouseup",function(t){1!==t.which||c||(g=!1,v(t))}).on("touchstart",{handler:function(t){var n=zuix.$(t.target);0===n.parent('[class*="no-gesture"]').length()&&t.touches[0].clientX>l?(c=!1,n.get().draggable=!1,x(t,t.touches[0].clientX,t.touches[0].clientY)):c=!0},passive:u}).on("touchmove",{handler:function(t){c||n(t,t.touches[0].clientX,t.touches[0].clientY)},passive:u}).on("touchend",function(t){c||v(t)})}},t.exports})()}]);