zuix.setComponentCache([{componentId:"https://zuixjs.github.io/zkit/lib/1.2/components/context-menu",controller:(()=>{var t={exports:function(n){let i,t,e,o=!0;function s(){o&&!i.isPlaying()&&(o=!1,e.show(),i.playTransition({onEnd:function(t,e){n.trigger("open")}}),i.css("bottom",0).get().focus(),t.css("opacity",1))}function r(){o||i.isPlaying()||(o=!0,i.playTransition({onEnd:function(){e.hide(),n.trigger("close")}}),t.css("opacity",0),i.css("bottom",-i.position().rect.height+"px"))}n.create=function(){(i=n.field("menu")).css("bottom",-i.position().rect.height+"px"),e=n.view().hide(),t=e.find(".menu-overlay"),e.find(".container").on({click:r,keydown:function(t){27===(t=t||window.event).keyCode&&r()}}),zuix.load("https://zuixjs.github.io/zkit/lib/1.1/controllers/gesture-helper",{view:e,on:{"gesture:pan":function(t,e){i.hasClass("no-transition")||i.addClass("no-transition"),0<e.shiftY&&i.css("bottom",-e.shiftY+"px")},"gesture:release":function(t,e){i.removeClass("no-transition"),e.velocity<=0&&"up"===e.direction?i.css("bottom",0):"down"===e.direction&&r()}}}),n.expose("show",s),n.expose("hide",r)}}};return t.exports})(),css:".menu-overlay {\n    position: fixed;\n    bottom:0;\n    left:0;\n    right: 0;\n    top: 0;\n    opacity: 0;\n    -ms-touch-action: none;\n    touch-action: none;\n    background: rgba(73,73,73,0.5);\n    z-index: 1001;\n    transition: opacity 0.4s ease-in;\n}\n.container {\n    position: fixed;\n    bottom:0;\n    left:0;\n    right: 0;\n    top: 0;\n    -ms-touch-action: none;\n    touch-action: none;\n    z-index: 1002;\n}\n.menu {\n    outline: none !important;\n    margin-left: auto;\n    margin-right: auto;\n    left: 50%;\n    transform: translateX(-50%);\n    position: absolute;\n    width: 100%;\n    max-width: 420px;\n    background: white;\n    border: solid 1px rgba(0,0,0,0.1);\n    border-radius: 16px 16px 0 0;\n    box-shadow: 0 -5px 5px -5px #333;\n    transition: bottom 0.3s ease-in-out;\n    transition-delay: 0.1s;\n}\nbutton {\n    width: 100%;\n    height:48px;\n    padding: 16px;\n    background: none;\n    border: none;\n}\nbutton span {\n    font-family: sans-serif, Helvetica;\n    font-size: 120%;\n    margin-left: 24px;\n}\nbutton i {\n    color: dimgray;\n    font-size: 24px;\n    margin-left: 8px;\n}\nbutton:hover {\n    background: rgba(0,0,0,0.1);\n}\n.no-transition {\n    transition: none;\n}\n",view:'<div class="menu-overlay"></div>\n<div class="container">\n    <div #menu="" class="menu" tabindex="0"></div>\n</div>\n'},{componentId:"https://zuixjs.github.io/zkit/lib/1.2/controllers/list-view",controller:(()=>{var t={};return t.exports=function(){let s=this,r="full",a="paginated",c="incremental",u=r,l=30,p={page:{current:0,count:0},items:{current:-1,loaded:0,count:0}},d,g=[];function i(){let n=s.model();if(n&&"function"==typeof d){s.trigger("list:busy"),p.page.count=m(),p.items.count=n.length;var e=p.page.current*l;let t=0;for(u===a&&0<e&&(t=e);t<n.length;t++){var i,o=JSON.parse(JSON.stringify(n[t])),o=d(t,o);if((u===r||u===a&&t>=e&&t<e+l||u===c&&t<e+l)&&(g[t]?o.static||(i=zuix.context(g[t]))&&JSON.stringify(i.model())!==JSON.stringify(o.options.model)&&i.model(o.options.model):(i=zuix.$(document.createElement("div")).attr("z-lazy","true"),null!=o.className?i.addClass(o.className):i.css({minHeight:o.height||"48px"}),((t,e)=>{e.one({"component:ready":()=>{p.items.loaded++,(p.items.current=t)===n.length-1?s.trigger("list:end"):t+1===(p.page.current+1)*l&&u===c&&h(p.page.current+1),s.trigger("list:update",p)}})})(t,i),zuix.loadComponent(i,o.componentId,o.type,o.options),g[t]=i,s.view().insert(e+t,g[t]))),void 0!==g[t]&&(u===a&&t<p.page.current*l||u!==r&&t>(p.page.current+1)*l-1?g[t].hide():g[t].show()),(u===a||u===c)&&t>e+l)break}s.trigger("list:ready"),zuix.componentize(s.view())}else f()}function h(t){if(!isNaN(t)&&0<=t&&t<m()){if(u===a){var e=p.page.current;if(s.model()){var n=e*l;for(let t=n;t<s.model().length&&t<n+l;t++)void 0!==g[t]&&g[t].hide()}}p.page.current=parseInt(t),s.trigger("page:change",p),i()}return p.page.current}function m(){return Math.ceil(s.model().length/l)}function t(t){if(null==t)return{itemsPerPage:l,listMode:u,adapter:d};let e=!1;null!=t.itemsPerPage&&(l=t.itemsPerPage,e=!0),-1!==[r,a,c].indexOf(t.listMode)&&u!==t.listMode&&(u=t.listMode,e=!0),"function"==typeof t.adapter&&(d=t.adapter,e=!0),e&&f(()=>{i(),s.trigger("page:change",p)})}function f(t){s.trigger("list:busy"),setTimeout(()=>{g.forEach(t=>zuix.unload(t)),g.length=0,t&&t(),s.trigger("list:ready")}),p.page.current=0,p.page.count=0,p.items.loaded=0,p.items.count=0,s.view().html("")}s.create=()=>{s.expose({config:t,page:h,prev:()=>h(p.page.current-1),next:()=>h(p.page.current+1),more:()=>{p.page.current++,i()},clear:f}),s.options().itemsPerPage=s.options().itemsPerPage||l,s.options().listMode=s.options().listMode||u,t(s.options())},s.update=()=>i(),s.destroy=()=>f()},t.exports})()},{componentId:"https://zuixjs.github.io/zkit/lib/1.1/controllers/gesture-helper",controller:(()=>{var t={};return t.exports=function(){let n=0,o=1,s=2,i=750,r=n,a,c=!1,u=!0,l=-1,p,d,g,h=!1,m=(new Date).getTime(),f=(Math.sign=Math.sign||function(t){return(0<t)-(t<0)||+t},this);function x(t,e,n){var i=(new Date).getTime();a={event:t,cancel:function(){a.event.cancelBubble=!0,u||a.event.preventDefault()},startX:e,startY:n,startTime:i,shiftX:0,shiftY:0,endTime:0,stepX:0,stepY:0,stepTime:i,velocity:0,x:e,y:n,scrollIntent:function(){switch(r){case o:return"horizontal";case s:return"vertical"}return!1}},g=(i=>{function t(){i.stepTime=i.endTime,i.stepX=i.shiftX,i.stepY=i.shiftY,i.stepSpeed=0,i.stepDistance=0}function o(){s=i.direction,r.time=(new Date).getTime(),r.x=i.x,r.y=i.y,i.velocity=0,i.distance=0,t()}let s,r={time:0,x:0,y:0},a={time:0,x:0,y:0};return o(),{update:function(){var t,e,n;a.time=(new Date).getTime(),a.x=i.x,a.y=i.y,null!=s&&s!==i.direction?o():(null==s&&i.direction!==s&&(s=i.direction),t=a.time-r.time,e={x:a.x-r.x,y:a.y-r.y},n=Math.sqrt(e.x*e.x+e.y*e.y),n=(i.distance=n)/t,i.velocity="left"===i.direction||"up"===i.direction?-n:n,i.stepTime=i.endTime-i.stepTime,e={x:i.shiftX-i.stepX,y:i.shiftY-i.stepY},i.stepDistance=Math.sqrt(e.x*e.x+e.y*e.y),i.stepSpeed=i.stepDistance/i.stepTime)},step:t}})(a),f.trigger("gesture:touch",a)}function e(t,e,n){null!=a&&(a.event=t,a.x=e,a.y=n,a.shiftX=e-a.startX,a.shiftY=n-a.startY,a.endTime=(new Date).getTime(),null!=(t=y())&&!1!==p&&(d=null!=d&&d!==a.direction?(p=!1,"cancel"):(p=t,a.direction)),f.trigger("gesture:pan",a))}function v(t){null!=a&&(g.update(),a.event=t,null!=(p=null==p?y():p))&&!1!==p&&f.trigger(p,a),f.trigger("gesture:release",a),r=n,d=null,p=null,a=null}function y(){let t=null;g.update();var e=180*Math.atan2(a.shiftY-a.stepY,a.shiftX-a.stepX)/Math.PI;return 0===a.shiftX&&0===a.shiftY&&a.startTime>m+100&&a.stepTime<i?(m=(new Date).getTime(),t="gesture:tap"):(r===n||r===o)&&2<a.stepDistance&&(135<=e&&e<=180||-180<=e&&e<=-135)?(a.direction="left",t="gesture:swipe",r=o):(r===n||r===o)&&2<a.stepDistance&&(0<=e&&e<=45||-45<=e&&e<0)?(a.direction="right",t="gesture:swipe",r=o):(r===n||r===s)&&2<a.stepDistance&&45<e&&e<135?(a.direction="down",t="gesture:swipe",r=s):(r===n||r===s)&&2<a.stepDistance&&-135<e&&e<-45&&(a.direction="up",t="gesture:swipe",r=s),2<a.stepDistance&&g.step(),t}f.init=function(){var t=f.view(),e=f.options();e.html=!1,e.css=!1,u=!1!==e.passive&&"false"!==t.attr("data-o-passive"),l=e.startGap||t.attr("data-o-startgap")},f.create=function(){(u?zuix.$(window):f.view()).on("dragstart",{handler:function(t){c||u||t.preventDefault()},passive:u}).on("mousedown",{handler:function(t){var e=zuix.$(t.target);1===t.which&&0===e.parent('[class*="no-gesture"]').length()&&t.x>l?(h=!0,c=!1,e.get().draggable=!1,x(t,t.x,t.y)):c=!0},passive:u}).on("mousemove",{handler:function(t){!c&&h&&e(t,t.x,t.y)},passive:u}).on("mouseup",function(t){1!==t.which||c||(h=!1,v(t))}).on("touchstart",{handler:function(t){var e=zuix.$(t.target);0===e.parent('[class*="no-gesture"]').length()&&t.touches[0].clientX>l?(c=!1,e.get().draggable=!1,x(t,t.touches[0].clientX,t.touches[0].clientY)):c=!0},passive:u}).on("touchmove",{handler:function(t){c||e(t,t.touches[0].clientX,t.touches[0].clientY)},passive:u}).on("touchend",function(t){c||v(t)})}},t.exports})()}]);