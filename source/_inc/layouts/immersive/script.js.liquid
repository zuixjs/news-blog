/* global zuix */

let pageIndicator;
let pageButtons;

//window.__zuix__debug = true;
zuix.lazyLoad(true, -window.innerWidth / 4);

options = {
  pageIndicator: {
    contextId: 'page-indicator',
    enablePaging: true,
    startGap: 40,
    ready: function(ctx) {
      pageIndicator = ctx;
      pageButtons = pageIndicator.$.find('div');
      if (pageButtons.length() > 0) {
        pageButtons.each(function(i, el, $el) {
          $el.on('click', function(e) {
            if (viewPager) viewPager.page(i);
          });
        });
      }
    }
  }
};

function syncPageIndicator(page) {
  if (pageButtons) {
    pageButtons.eq(page.out).removeClass('active');
    pageButtons.eq(page.in).addClass('active');
  }
  if (pageIndicator) pageIndicator.page(page.in);
}

{% include '../common/theme.js' %}

{% if options contains 'ext-links' -%}
{% include '../common/external-links.js.liquid'  %}
{% endif %}
